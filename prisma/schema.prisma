// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "sqlite"
}

// ログインテーブル
model User {
  id          Int       @id @default(autoincrement())
  name        String
  email       String    @unique
  password    String
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
}

//ライブ登録テーブル
model LiveInfo {
  id            Int       @id @default(autoincrement())
  day           Int
  openTime      Int
  liveName      String
  chargePrice   Int
  ticketQuota   Int
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

//共演者テーブル
model FellowPerformer {
  id            Int       @id @default(autoincrement())
  liveId        Int
  name          String
  role          String
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

//出演者テーブル
model Performer {
  id            Int       @id @default(autoincrement())
  liveId        Int
  name          String
  role          String
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

enum Reason {
  PERFORMERSNS
  FRIEND
  TWITTER
  FACEBOOK
  INSTAGRAM
  THREADS
  WEBSITE
  OTHER
}

//予約リストテーブル
model Reservation {
  id               Int      @id @default(autoincrement())
  liveId           Int
  customerName     String
  reservationDay   Int
  method           String
  reservationName  String
  numberOfPeople   Int
  drink            Int?
  addP             Int?
  remarks          String?
  reason           Reason?
  staffId          Int
  createdAt        DateTime  @default(now())
  updatedAt        DateTime  @updatedAt
}

enum Status {
  VACANT
  FULL
}

//座席テーブル
model Seat {
  id            Int         @id @default(autoincrement())
  seatName      String
  capacity      Int
  status        Status      @default(vacant)
  createdAt     DateTime    @default(now())
  updatedAt     DateTime    @updatedAt
}

//予約リストと座席を多対多で紐づける中間テーブル
model ReservationSeat {
  id              Int       @id @default(autoincrement())
  reservationId   Int
  seatId          Int
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}

enum Type {
  S
  A
  C
  D
}

//メニューテーブル
model Menu {
  id              Int       @id @default(autoincrement())
  menuId          Int?
  name            String
  type            Type
  price           Int
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}

//予約リストとメニューを多対多で紐づける中間テーブル
model ReservationMenu {
  id              Int       @id @default(autoincrement())
  reservationId   Int
  menuId          Int
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}

//受付者テーブル
model Staff {
  id              Int       @id @default(autoincrement())
  staffId         Int
  staffName       String
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
}